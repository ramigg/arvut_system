<div class="widget-register">
  <div class="inner">
    <h2><%= t 'devise.views.sign_up' %></h2>
    <div class="signup">
      <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
        <%- unless flash[:alert].empty? && session[:alert].empty? -%>
          <%= devise_error_messages! %>
          <div id="error_explanation">
            <ul>
              <%- unless flash[:alert].empty? -%>
                <li><%= flash[:alert] %></li>
              <%- end -%>
              <%- unless session[:alert].empty? -%>
                <li><%= session[:alert] %></li>
              <%- end -%>
            </ul>
          </div>
        <%- end -%>
        <%- unless flash[:notice].empty? && session[:notice].empty? -%>
          <div id="notice_explanation" class="ui-state-highlight">
            <ul>
              <%- unless flash[:notice].empty? -%>
                <li><%= flash[:notice] %></li>
              <%- end -%>
              <%- unless session[:notice].empty? -%>
                <li><%= session[:notice] %></li>
              <%- end -%>
            </ul>
          </div>
        <%- end -%>

        <ul>
          <li>
            <ul>
              <li><%= f.label t 'devise.views.email' %></li>
              <li><%=
                  if @sn_user.try(:email)
                      f.text_field :email, value: @sn_user.email, class: [:'text-input', :required], dir: :ltr, disabled: true
                  else
                      f.text_field :email, class: [:'text-input', :required], dir: :ltr
                  end
              -%></li>
            </ul>
          </li>
          <li>
            <ul>
              <li><%= f.label t 'devise.views.password' -%></li>
              <li><%= f.password_field :password, :class => [:'text-input', :required], :dir => :ltr %></li>
            </ul>
          </li>
          <li>
            <ul>
              <li><%= f.label t 'devise.views.confirm_new_password' -%></li>
              <li><%= f.password_field :password_confirmation, :class => [:'text-input', :required], :dir => :ltr %></li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="submission">
        <%= f.submit t('devise.views.sign_up_more').html_safe, :class => :'button-big-second' %><br/>
      </div>
    <% end %>
  </div>
</div>
